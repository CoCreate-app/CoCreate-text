(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["text"] = factory();
	else
		root["CoCreate"] = root["CoCreate"] || {}, root["CoCreate"]["text"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "../CoCreate-components/CoCreate-text/src/CoCreate-text.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../CoCreate-components/CoCreate-text/src/CoCreate-text.js":
/*!*****************************************************************!*\
  !*** ../CoCreate-components/CoCreate-text/src/CoCreate-text.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n\nvar CoCreateText = {\n  elements: [],\n  init: function init() {\n    this.initElement(document); // this.initSockets();\n  },\n  refreshElement: function refreshElement(mutation) {\n    var element = mutation.target;\n    if (!element) return;\n    var tagName = element.tagName.toLowerCase();\n\n    if (!['input', 'textarea'].includes(tagName) || !element.getAttribute('data-document_id') || !element.getAttribute('name')) {\n      return;\n    }\n\n    if (!CoCreateObserver.isUsageY(element)) return;\n\n    if (!CoCreate.observer.getInitialized(element, 'text')) {\n      this.__initEvents(element);\n    }\n\n    CoCreate.observer.setInitialized(element, 'text');\n\n    if (CoCreate.document_id.checkID(element)) {\n      // element.value = \"\";\n      this.createYDoc(element, true);\n    }\n  },\n  initElement: function initElement(container) {\n    var self = this;\n    var fetch_container = container || document;\n    var elements = fetch_container.querySelectorAll('input[data-document_id][name], textarea[data-document_id][name]');\n\n    if (elements.length == 0 && fetch_container != document && fetch_container.hasAttribute('data-document_id') && fetch_container.hasAttribute('name')) {\n      elements = [fetch_container];\n    }\n\n    elements.forEach(function (element) {\n      if (!CoCreateInput.isUsageY(element)) {\n        return;\n      }\n\n      if (self.checkExistElement(element)) {\n        // this.setInitValue(elements[i])\n        return;\n      }\n\n      if (CoCreate.observer.getInitialized(element, 'text')) {\n        return;\n      }\n\n      CoCreate.observer.setInitialized(element, 'text');\n\n      self.__initEvents(element);\n\n      if (CoCreate.document_id.checkID(element)) {\n        self.createYDoc(element);\n      } else {\n        //. register create document_id event\n        element.addEventListener('set-document_id', function (event) {\n          var el = this;\n          var text_str = el.value;\n          self.createYDoc(el);\n          self.sendChangeData(el, text_str, 0, text_str.length);\n        });\n      }\n    });\n  },\n  checkExistElement: function checkExistElement(element) {\n    for (var i = 0; i < this.elements.length; i++) {\n      if (this.elements[i].isSameNode(element)) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n  setInitValue: function setInitValue(element) {\n    var typeId = this.generateTypeName(element);\n    var value = CoCreate.crdt.getWholeString(typeId);\n    element.value = value; // CoCreateInput.setValue(element, value);\n  },\n  createYDoc: function createYDoc(element, isExclude) {\n    var collection = element.getAttribute('data-collection');\n    var document_id = element.getAttribute('data-document_id');\n    var name = element.getAttribute('name');\n    var status = CoCreate.crdt.init({\n      collection: collection,\n      document_id: document_id,\n      name: name,\n      element: element\n    });\n\n    if (!isExclude) {\n      this.elements.push(element);\n    } else {\n      element.value = CoCreate.crdt.get({\n        collection: collection,\n        document_id: document_id,\n        name: name\n      }); // CoCreateInput.setValue(element, CoCreate.crdt.get({collection, document_id, name }));\n    }\n  },\n  __initEvents: function __initEvents(input_element) {\n    //. selection event\n    var self = this;\n    input_element.addEventListener('select', function () {\n      if (this.selectionEnd !== this.selectionStart) {\n        self.setSelectionInfo(this, true, this.selectionStart, this.selectionEnd);\n        if (document.activeElement === this) self.sendPosition(this);\n      }\n    });\n    input_element.addEventListener('keyup', function (event) {\n      var arrows = [37, 38, 39, 40];\n\n      if (arrows.indexOf(event.keyCode) != -1) {\n        self.sendPosition(this);\n      }\n    });\n    input_element.addEventListener('keydown', function (event) {\n      var arrows = [37, 38, 39, 40];\n\n      if (arrows.indexOf(event.keyCode) != -1) {\n        //console.log(\"keydown ---- \")\n        self.sendPosition(this);\n      }\n    });\n    input_element.addEventListener('click', function (event) {\n      if (document.activeElement === this) self.sendPosition(this);\n    });\n    input_element.addEventListener('blur', function (event) {\n      var id = self.generateTypeName(this);\n      CoCreate.crdt.setCursorNull(id);\n    });\n    input_element.addEventListener('input', function (event) {\n      var nowstart = this.selectionStart - 1;\n      var nowend = nowstart;\n      var selection_info = self.getSelectionInfo(this);\n      var content_text = \"\";\n      var isUpdate = false;\n\n      switch (event.inputType) {\n        case 'deleteContentBackward':\n          isUpdate = true;\n          nowstart++;\n          nowend = nowstart + 1;\n          break;\n\n        case 'deleteContentForward':\n          isUpdate = true;\n          nowstart++;\n          nowend = nowstart + 1;\n          break;\n\n        case 'insertLineBreak':\n          isUpdate = true;\n          content_text = \"\\n\";\n          nowend++;\n          break;\n\n        case 'insertText':\n          isUpdate = true;\n          content_text = event.data || \"\\n\";\n          break;\n\n        case 'deleteByCut':\n          isUpdate = true;\n          break;\n      }\n\n      if (isUpdate) {\n        if (selection_info.is_selected) {\n          //. delete event\n          var character_deleted = selection_info.start - selection_info.end; //CoCreateCursors.recalculate_local_cursors(this,character_deleted)\n\n          self.sendChangeData(this, \"\", selection_info.start, selection_info.end);\n\n          if (content_text.length > 0) {\n            self.sendChangeData(this, content_text, nowstart, nowend);\n          }\n\n          self.setSelectionInfo(this, false, this.selectionStart, this.selectionStart);\n        } else {\n          self.sendChangeData(this, content_text, nowstart, nowend);\n        }\n      }\n    });\n    /** unselect events **/\n\n    input_element.addEventListener('blur', function (e) {\n      self.setSelectionInfo(this, false, this.selectionStart, this.selectionStart);\n    });\n    input_element.addEventListener('click', function (e) {\n      self.setSelectionInfo(this, false, this.selectionStart, this.selectionStart);\n    });\n    /** past events **/\n\n    input_element.addEventListener('paste', function (event) {\n      var content_text = event.clipboardData.getData('Text');\n      var start = this.selectionStart;\n      var end = this.selectionEnd; //. send delete event\n\n      if (start != end) {\n        this.setSelectionRange(end, end);\n        self.sendChangeData(this, \"\", start, end, false);\n      }\n\n      if (start == end) {// to calculate Cursors in collaboration \n        // CoCreateCursors.recalculate_local_cursors(this,content_text.length)\n      } //. insert event\n\n\n      self.sendChangeData(this, content_text, start, start, false);\n      event.preventDefault();\n    });\n    input_element.addEventListener('cocreate-y-update', function (event) {\n      var _this = this;\n\n      var info = event.detail;\n      input_element.crudSetted = true;\n      var pos = 0;\n      var flag = true;\n      info.forEach(function (item) {\n        if (item.retain) {\n          flag = true;\n          pos = item.retain;\n        }\n\n        if (item.insert || item[\"delete\"]) {\n          if (flag == false) pos = 0;\n          flag = false;\n\n          if (item.insert) {\n            //. insert process\n            self.updateChangeData(_this, item.insert, pos, pos);\n          } else if (item[\"delete\"]) {\n            //. delete process\n            self.updateChangeData(_this, \"\", pos, pos + item[\"delete\"]);\n          }\n        }\n      });\n    });\n  },\n  setSelectionInfo: function setSelectionInfo(e, isSelect, start, end) {\n    e.setAttribute(\"is_selected\", isSelect);\n    e.setAttribute(\"selection_start\", start);\n    e.setAttribute(\"selection_end\", end); //console.log(\"swelect\",e)\n\n    this.sendPosition(e);\n  },\n  getSelectionInfo: function getSelectionInfo(e) {\n    return {\n      is_selected: e.getAttribute(\"is_selected\") === 'true' ? true : false,\n      start: parseInt(e.getAttribute(\"selection_start\")),\n      end: parseInt(e.getAttribute(\"selection_end\"))\n    };\n  },\n  checkDocumentID: function checkDocumentID(element) {\n    var document_id = element.getAttribute('data-document_id');\n\n    if (!document_id || document_id === \"\") {\n      return false;\n    }\n\n    return true;\n  },\n  sendChangeData: function sendChangeData(element, content, start, end) {\n    var isRemove = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\n    if (!this.checkDocumentID(element)) {\n      CoCreate.document_id.request({\n        element: element,\n        nameAttr: \"name\"\n      });\n      element.setAttribute('data-document_id', 'pending');\n      return;\n    }\n\n    if (element.getAttribute('data-document_id') == 'pending') {\n      return;\n    }\n\n    var collection = element.getAttribute('data-collection'),\n        document_id = element.getAttribute('data-document_id'),\n        name = element.getAttribute('name');\n\n    if (element.getAttribute('data-save_value') == 'false') {\n      return;\n    } //console.log(\"SendChangeDataFrom Cocreate-Text\")\n\n\n    var character_count = content.length > 0 ? content.length : -1;\n    CoCreateCursors.recalculate_local_cursors(element, character_count); //send position when keyUp \n\n    this.sendPosition(element);\n\n    if (content.length > 0) {\n      if (isRemove) {\n        element.setRangeText(\"\", start, start + content.length, \"start\");\n      }\n\n      CoCreate.crdt.insert({\n        collection: collection,\n        document_id: document_id,\n        name: name,\n        value: content,\n        position: start\n      });\n    } else {\n      if (isRemove) element.setRangeText(\" \".repeat(end - start), start, start, \"end\");\n      CoCreate.crdt[\"delete\"]({\n        collection: collection,\n        document_id: document_id,\n        name: name,\n        position: start,\n        length: end - start\n      });\n    }\n\n    if (document.activeElement === element) {\n      this.setSelectionInfo(element, false, element.selectionStart, element.selectionStart);\n      this.sendPosition(element);\n    }\n  },\n  updateChangeData: function updateChangeData(element, content, start, end) {\n    var prev_start = element.selectionStart;\n    var prev_end = element.selectionEnd;\n    element.setRangeText(content, start, end, \"end\");\n\n    if (prev_start >= start) {\n      if (content == \"\") {\n        prev_start -= end - start;\n        prev_end -= end - start;\n        prev_start = prev_start < start ? start : prev_start;\n      } else {\n        prev_start += content.length;\n        prev_end += content.length;\n      }\n    }\n\n    {\n      if (content == \"\" && prev_end >= start) {\n        prev_end = prev_end >= end ? prev_end - (end - start) : start;\n      }\n    }\n    element.selectionStart = prev_start;\n    element.selectionEnd = prev_end;\n    var isFocused = document.activeElement === element;\n    CoCreateCursors.refresh_mirror(element);\n\n    if (CoCreateFloatingLabel) {\n      CoCreateFloatingLabel.update(element, element.value);\n    }\n  },\n  generateTypeName: function generateTypeName(element) {\n    var collection = element.getAttribute('data-collection');\n    var document_id = element.getAttribute('data-document_id');\n    var name = element.getAttribute('name');\n    return CoCreate.crdt.generateID(config.organization_Id, collection, document_id, name);\n  },\n  setText: function setText(element_id, info) {\n    var _this2 = this;\n\n    var pos = 0;\n    var flag = true;\n    info.forEach(function (item) {\n      if (item.retain) {\n        flag = true;\n        pos = item.retain;\n      }\n\n      if (item.insert || item[\"delete\"]) {\n        if (flag == false) pos = 0;\n        flag = false;\n\n        if (item.insert) {\n          //. insert process\n          _this2.receiveChangeData(element_id, item.insert, pos, pos);\n        } else if (item[\"delete\"]) {\n          //. delete process\n          _this2.receiveChangeData(element_id, \"\", pos, pos + item[\"delete\"]);\n        }\n      }\n    });\n  },\n  isAvaiableEl: function isAvaiableEl(element) {\n    //console.log(this.elements)\n    for (var i = 0; i < this.elements.length; i++) {\n      console.log(this.elements[i].isEqualNode(element), element);\n\n      if (this.elements[i].isEqualNode(element) === true) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n  sendPosition: function sendPosition(element) {\n    //console.log(\"Se envio \")\n\n    /*if (!this.isAvaiableEl(element)) {\n      return;\n    }*/\n    var id = this.generateTypeName(element); //console.log(\" SEnd Position Selector ID \",id)\n    //console.log(element.selectionStart, element.selectionEnd);\n\n    var from = element.selectionStart;\n    var to = element.selectionEnd; //console.log(\"Se envio la position \",id,from, to)\n\n    CoCreate.crdt.setPositionYJS(id, from, to);\n  }\n};\nCoCreateText.init(); // CoCreateInit.register('CoCreateText', CoCreateText, CoCreateText.initElement);\n\nCoCreate.observer.add({\n  name: 'CoCreateTextCreate',\n  observe: ['subtree', 'childList'],\n  include: '[data-collection][data-document_id][name]',\n  callback: function callback(mutation) {\n    console.log('cocreate-text init');\n    CoCreateText.initElement(mutation.target);\n  }\n});\nCoCreate.observer.add({\n  name: 'CoCreateTextNameObserver',\n  observe: ['attributes'],\n  attributes: ['name'],\n  callback: function callback(mutation) {\n    console.log('change cocreate-text name');\n    CoCreateText.refreshElement(mutation);\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoCreateText);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS50ZXh0Ly4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtdGV4dC9zcmMvQ29DcmVhdGUtdGV4dC5qcz8xNzUyIl0sIm5hbWVzIjpbIkNvQ3JlYXRlVGV4dCIsImVsZW1lbnRzIiwiaW5pdCIsImluaXRFbGVtZW50IiwiZG9jdW1lbnQiLCJyZWZyZXNoRWxlbWVudCIsIm11dGF0aW9uIiwiZWxlbWVudCIsInRhcmdldCIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiZ2V0QXR0cmlidXRlIiwiQ29DcmVhdGVPYnNlcnZlciIsImlzVXNhZ2VZIiwiQ29DcmVhdGUiLCJvYnNlcnZlciIsImdldEluaXRpYWxpemVkIiwiX19pbml0RXZlbnRzIiwic2V0SW5pdGlhbGl6ZWQiLCJkb2N1bWVudF9pZCIsImNoZWNrSUQiLCJjcmVhdGVZRG9jIiwiY29udGFpbmVyIiwic2VsZiIsImZldGNoX2NvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJoYXNBdHRyaWJ1dGUiLCJmb3JFYWNoIiwiQ29DcmVhdGVJbnB1dCIsImNoZWNrRXhpc3RFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZWwiLCJ0ZXh0X3N0ciIsInZhbHVlIiwic2VuZENoYW5nZURhdGEiLCJpIiwiaXNTYW1lTm9kZSIsInNldEluaXRWYWx1ZSIsInR5cGVJZCIsImdlbmVyYXRlVHlwZU5hbWUiLCJjcmR0IiwiZ2V0V2hvbGVTdHJpbmciLCJpc0V4Y2x1ZGUiLCJjb2xsZWN0aW9uIiwibmFtZSIsInN0YXR1cyIsInB1c2giLCJnZXQiLCJpbnB1dF9lbGVtZW50Iiwic2VsZWN0aW9uRW5kIiwic2VsZWN0aW9uU3RhcnQiLCJzZXRTZWxlY3Rpb25JbmZvIiwiYWN0aXZlRWxlbWVudCIsInNlbmRQb3NpdGlvbiIsImFycm93cyIsImluZGV4T2YiLCJrZXlDb2RlIiwiaWQiLCJzZXRDdXJzb3JOdWxsIiwibm93c3RhcnQiLCJub3dlbmQiLCJzZWxlY3Rpb25faW5mbyIsImdldFNlbGVjdGlvbkluZm8iLCJjb250ZW50X3RleHQiLCJpc1VwZGF0ZSIsImlucHV0VHlwZSIsImRhdGEiLCJpc19zZWxlY3RlZCIsImNoYXJhY3Rlcl9kZWxldGVkIiwic3RhcnQiLCJlbmQiLCJlIiwiY2xpcGJvYXJkRGF0YSIsImdldERhdGEiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInByZXZlbnREZWZhdWx0IiwiaW5mbyIsImRldGFpbCIsImNydWRTZXR0ZWQiLCJwb3MiLCJmbGFnIiwiaXRlbSIsInJldGFpbiIsImluc2VydCIsInVwZGF0ZUNoYW5nZURhdGEiLCJpc1NlbGVjdCIsInNldEF0dHJpYnV0ZSIsInBhcnNlSW50IiwiY2hlY2tEb2N1bWVudElEIiwiY29udGVudCIsImlzUmVtb3ZlIiwicmVxdWVzdCIsIm5hbWVBdHRyIiwiY2hhcmFjdGVyX2NvdW50IiwiQ29DcmVhdGVDdXJzb3JzIiwicmVjYWxjdWxhdGVfbG9jYWxfY3Vyc29ycyIsInNldFJhbmdlVGV4dCIsInBvc2l0aW9uIiwicmVwZWF0IiwicHJldl9zdGFydCIsInByZXZfZW5kIiwiaXNGb2N1c2VkIiwicmVmcmVzaF9taXJyb3IiLCJDb0NyZWF0ZUZsb2F0aW5nTGFiZWwiLCJ1cGRhdGUiLCJnZW5lcmF0ZUlEIiwiY29uZmlnIiwib3JnYW5pemF0aW9uX0lkIiwic2V0VGV4dCIsImVsZW1lbnRfaWQiLCJyZWNlaXZlQ2hhbmdlRGF0YSIsImlzQXZhaWFibGVFbCIsImNvbnNvbGUiLCJsb2ciLCJpc0VxdWFsTm9kZSIsImZyb20iLCJ0byIsInNldFBvc2l0aW9uWUpTIiwiYWRkIiwib2JzZXJ2ZSIsImluY2x1ZGUiLCJjYWxsYmFjayIsImF0dHJpYnV0ZXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQWE7O0FBRWIsSUFBSUEsWUFBWSxHQUFHO0FBQ2pCQyxVQUFRLEVBQUUsRUFETztBQUdqQkMsTUFBSSxFQUFHLGdCQUFXO0FBQ2hCLFNBQUtDLFdBQUwsQ0FBaUJD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RGU7QUFFckIyRSxTQUFPLEVBQUUsQ0FBQyxZQUFELENBRlk7QUFHckJHLFlBQVUsRUFBRSxDQUFDLE1BQUQsQ0FIUztBQUlyQkQsVUFBUSxFQUFFLGtCQUFTdEgsUUFBVCxFQUFtQjtBQUM1QjZHLFdBQU8sQ0FBQ0MsR0FBUixDQUFZLDJCQUFaO0FBQ0FwSCxnQkFBWSxDQUFDSyxjQUFiLENBQTRCQyxRQUE1QjtBQUNBO0FBUG9CLENBQXRCO0FBVWVOLDJFQUFmIiwiZmlsZSI6Ii4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtdGV4dC9zcmMvQ29DcmVhdGUtdGV4dC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgQ29DcmVhdGVUZXh0ID0ge1xuICBlbGVtZW50czogW10sXG4gIFxuICBpbml0IDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbml0RWxlbWVudChkb2N1bWVudCk7XG4gICAgLy8gdGhpcy5pbml0U29ja2V0cygpO1xuICB9LFxuICBcbiAgcmVmcmVzaEVsZW1lbnQ6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG4gICAgbGV0IGVsZW1lbnQgPSBtdXRhdGlvbi50YXJnZXQ7XG4gICAgaWYgKCFlbGVtZW50KSByZXR1cm47XG4gICAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghWydpbnB1dCcsICd0ZXh0YXJlYSddLmluY2x1ZGVzKHRhZ05hbWUpIHx8XG4gICAgICAgICFlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpIHx8XG4gICAgICAgICFlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpKSB7XG4gICAgICByZXR1cm4gXG4gICAgfVxuICAgIFxuICAgIGlmICghQ29DcmVhdGVPYnNlcnZlci5pc1VzYWdlWShlbGVtZW50KSkgcmV0dXJuO1xuICAgIFxuICAgIGlmICghQ29DcmVhdGUub2JzZXJ2ZXIuZ2V0SW5pdGlhbGl6ZWQoZWxlbWVudCwgJ3RleHQnKSkge1xuICAgICAgdGhpcy5fX2luaXRFdmVudHMoZWxlbWVudCk7XG4gICAgfVxuICAgIENvQ3JlYXRlLm9ic2VydmVyLnNldEluaXRpYWxpemVkKGVsZW1lbnQsICd0ZXh0Jyk7XG4gICAgXG4gICAgaWYgKENvQ3JlYXRlLmRvY3VtZW50X2lkLmNoZWNrSUQoZWxlbWVudCkpIHtcbiAgICAgIC8vIGVsZW1lbnQudmFsdWUgPSBcIlwiO1xuICAgICAgdGhpcy5jcmVhdGVZRG9jKGVsZW1lbnQsIHRydWUpO1xuICAgIH1cbiAgICBcbiAgfSxcbiAgXG4gIGluaXRFbGVtZW50OiBmdW5jdGlvbihjb250YWluZXIpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGZldGNoX2NvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudDtcbiAgICBcbiAgICBsZXQgZWxlbWVudHMgPSBmZXRjaF9jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbZGF0YS1kb2N1bWVudF9pZF1bbmFtZV0sIHRleHRhcmVhW2RhdGEtZG9jdW1lbnRfaWRdW25hbWVdJyk7XG4gICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAwICYmIFxuICAgICAgICBmZXRjaF9jb250YWluZXIgIT0gZG9jdW1lbnQgJiZcbiAgICAgICAgZmV0Y2hfY29udGFpbmVyLmhhc0F0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpICYmIFxuICAgICAgICBmZXRjaF9jb250YWluZXIuaGFzQXR0cmlidXRlKCduYW1lJykpIFxuICAgIHtcbiAgICAgIGVsZW1lbnRzID0gW2ZldGNoX2NvbnRhaW5lcl07XG4gICAgfVxuXG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgaWYgKCFDb0NyZWF0ZUlucHV0LmlzVXNhZ2VZKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHNlbGYuY2hlY2tFeGlzdEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgLy8gdGhpcy5zZXRJbml0VmFsdWUoZWxlbWVudHNbaV0pXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuXHRcdFx0aWYgKENvQ3JlYXRlLm9ic2VydmVyLmdldEluaXRpYWxpemVkKGVsZW1lbnQsICd0ZXh0JykpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Q29DcmVhdGUub2JzZXJ2ZXIuc2V0SW5pdGlhbGl6ZWQoZWxlbWVudCwgJ3RleHQnKTtcbiAgICAgIFxuICAgICAgc2VsZi5fX2luaXRFdmVudHMoZWxlbWVudCk7XG4gICAgICBcbiAgICAgIGlmIChDb0NyZWF0ZS5kb2N1bWVudF9pZC5jaGVja0lEKGVsZW1lbnQpKSB7XG4gICAgICAgIHNlbGYuY3JlYXRlWURvYyhlbGVtZW50KTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8uIHJlZ2lzdGVyIGNyZWF0ZSBkb2N1bWVudF9pZCBldmVudFxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NldC1kb2N1bWVudF9pZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgdmFyIGVsID0gdGhpcztcbiAgICAgICAgICB2YXIgdGV4dF9zdHIgPSBlbC52YWx1ZTtcbiAgICAgICAgICBzZWxmLmNyZWF0ZVlEb2MoZWwpO1xuICAgICAgICAgIHNlbGYuc2VuZENoYW5nZURhdGEoZWwsIHRleHRfc3RyLCAwLCB0ZXh0X3N0ci5sZW5ndGgpO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIFxuICBjaGVja0V4aXN0RWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuZWxlbWVudHNbaV0uaXNTYW1lTm9kZShlbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBcbiAgc2V0SW5pdFZhbHVlOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIHR5cGVJZCA9IHRoaXMuZ2VuZXJhdGVUeXBlTmFtZShlbGVtZW50KTtcbiAgICB2YXIgdmFsdWUgPSBDb0NyZWF0ZS5jcmR0LmdldFdob2xlU3RyaW5nKHR5cGVJZCk7XG4gICAgZWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICAgIFxuICAgIC8vIENvQ3JlYXRlSW5wdXQuc2V0VmFsdWUoZWxlbWVudCwgdmFsdWUpO1xuICB9LFxuICBcbiAgY3JlYXRlWURvYzogZnVuY3Rpb24oZWxlbWVudCwgaXNFeGNsdWRlKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKVxuXHRcdGNvbnN0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHRcdGNvbnN0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgIGNvbnN0IHN0YXR1cyA9IENvQ3JlYXRlLmNyZHQuaW5pdCh7XG4gICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uLFxuICAgICAgZG9jdW1lbnRfaWQ6IGRvY3VtZW50X2lkLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgfSlcbiAgICBpZiAoIWlzRXhjbHVkZSkge1xuICAgICAgdGhpcy5lbGVtZW50cy5wdXNoKGVsZW1lbnQpXG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQudmFsdWUgPSBDb0NyZWF0ZS5jcmR0LmdldCh7Y29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUgfSlcbiAgICAgIC8vIENvQ3JlYXRlSW5wdXQuc2V0VmFsdWUoZWxlbWVudCwgQ29DcmVhdGUuY3JkdC5nZXQoe2NvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lIH0pKTtcbiAgICB9XG4gIH0sXG4gIFxuICBcbiAgX19pbml0RXZlbnRzOiBmdW5jdGlvbihpbnB1dF9lbGVtZW50KSB7XG5cbiAgICAvLy4gc2VsZWN0aW9uIGV2ZW50XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgXG4gICAgaW5wdXRfZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3QnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbkVuZCAhPT0gdGhpcy5zZWxlY3Rpb25TdGFydCkge1xuICAgICAgICBzZWxmLnNldFNlbGVjdGlvbkluZm8odGhpcywgdHJ1ZSwgdGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25FbmQpXG4gICAgICAgIFxuICAgICAgICBpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzKVxuICAgICAgICAgIHNlbGYuc2VuZFBvc2l0aW9uKHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGlucHV0X2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBsZXQgYXJyb3dzID0gWzM3LDM4LDM5LDQwXTtcbiAgICAgICAgaWYoYXJyb3dzLmluZGV4T2YoZXZlbnQua2V5Q29kZSkhPS0xKXtcbiAgICAgICAgICBzZWxmLnNlbmRQb3NpdGlvbih0aGlzKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGlucHV0X2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGxldCBhcnJvd3MgPSBbMzcsMzgsMzksNDBdO1xuICAgICAgICBpZihhcnJvd3MuaW5kZXhPZihldmVudC5rZXlDb2RlKSE9LTEpe1xuICAgICAgICAgIC8vY29uc29sZS5sb2coXCJrZXlkb3duIC0tLS0gXCIpXG4gICAgICAgICAgc2VsZi5zZW5kUG9zaXRpb24odGhpcyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBpbnB1dF9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGhpcylcbiAgICAgICAgICBzZWxmLnNlbmRQb3NpdGlvbih0aGlzKTtcbiAgICB9KTtcbiAgICBcbiAgICBpbnB1dF9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBjb25zdCBpZCA9IHNlbGYuZ2VuZXJhdGVUeXBlTmFtZSh0aGlzKTtcbiAgICAgICAgQ29DcmVhdGUuY3JkdC5zZXRDdXJzb3JOdWxsKGlkKTtcbiAgICB9KTtcbiAgICBcbiAgICBpbnB1dF9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGxldCBub3dzdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQgLSAxO1xuICAgICAgbGV0IG5vd2VuZCA9IG5vd3N0YXJ0O1xuICAgICAgbGV0IHNlbGVjdGlvbl9pbmZvID0gc2VsZi5nZXRTZWxlY3Rpb25JbmZvKHRoaXMpO1xuICAgICAgbGV0IGNvbnRlbnRfdGV4dCA9IFwiXCI7XG4gICAgICBsZXQgaXNVcGRhdGUgPSBmYWxzZTsgICAgICBcbiAgICAgIHN3aXRjaCAoZXZlbnQuaW5wdXRUeXBlKSB7XG4gICAgICAgIGNhc2UgJ2RlbGV0ZUNvbnRlbnRCYWNrd2FyZCc6XG4gICAgICAgICAgaXNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgIG5vd3N0YXJ0ICsrO1xuICAgICAgICAgIG5vd2VuZCA9IG5vd3N0YXJ0ICsgMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZGVsZXRlQ29udGVudEZvcndhcmQnOlxuICAgICAgICAgIGlzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICBub3dzdGFydCArKztcbiAgICAgICAgICBub3dlbmQgPSBub3dzdGFydCArIDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2luc2VydExpbmVCcmVhayc6XG4gICAgICAgICAgaXNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgIGNvbnRlbnRfdGV4dCA9IFwiXFxuXCI7XG4gICAgICAgICAgbm93ZW5kICsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbnNlcnRUZXh0JzpcbiAgICAgICAgICBpc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgY29udGVudF90ZXh0ID0gZXZlbnQuZGF0YSB8fCBcIlxcblwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkZWxldGVCeUN1dCc6XG4gICAgICAgICAgaXNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChpc1VwZGF0ZSkge1xuICAgICAgICBpZiAoc2VsZWN0aW9uX2luZm8uaXNfc2VsZWN0ZWQpIHtcbiAgICAgICAgICAvLy4gZGVsZXRlIGV2ZW50XG4gICAgICAgICAgbGV0IGNoYXJhY3Rlcl9kZWxldGVkID0gc2VsZWN0aW9uX2luZm8uc3RhcnQgLSBzZWxlY3Rpb25faW5mby5lbmQ7XG4gICAgICAgICAgXG4gICAgICAgICAgLy9Db0NyZWF0ZUN1cnNvcnMucmVjYWxjdWxhdGVfbG9jYWxfY3Vyc29ycyh0aGlzLGNoYXJhY3Rlcl9kZWxldGVkKVxuICAgICAgICAgIFxuICAgICAgICAgIHNlbGYuc2VuZENoYW5nZURhdGEodGhpcywgXCJcIiwgc2VsZWN0aW9uX2luZm8uc3RhcnQsIHNlbGVjdGlvbl9pbmZvLmVuZCk7XG4gICAgICAgICAgaWYgKGNvbnRlbnRfdGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWxmLnNlbmRDaGFuZ2VEYXRhKHRoaXMsIGNvbnRlbnRfdGV4dCwgbm93c3RhcnQsIG5vd2VuZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGYuc2V0U2VsZWN0aW9uSW5mbyh0aGlzLCBmYWxzZSwgdGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25TdGFydCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5zZW5kQ2hhbmdlRGF0YSh0aGlzLCBjb250ZW50X3RleHQsIG5vd3N0YXJ0LCBub3dlbmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8qKiB1bnNlbGVjdCBldmVudHMgKiovICAgIFxuICAgIGlucHV0X2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHNlbGYuc2V0U2VsZWN0aW9uSW5mbyh0aGlzLCBmYWxzZSwgdGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25TdGFydCk7XG4gICAgfSlcbiAgICBpbnB1dF9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgc2VsZi5zZXRTZWxlY3Rpb25JbmZvKHRoaXMsIGZhbHNlLCB0aGlzLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnNlbGVjdGlvblN0YXJ0KTtcbiAgICB9KVxuICAgIFxuICAgIC8qKiBwYXN0IGV2ZW50cyAqKi9cbiAgICBpbnB1dF9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGxldCBjb250ZW50X3RleHQgPSBldmVudC5jbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKTtcbiAgICAgIGxldCBzdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICBsZXQgZW5kID0gdGhpcy5zZWxlY3Rpb25FbmQ7XG4gICAgICAvLy4gc2VuZCBkZWxldGUgZXZlbnRcbiAgICAgIGlmIChzdGFydCAhPSBlbmQpIHtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShlbmQsIGVuZClcbiAgICAgICAgc2VsZi5zZW5kQ2hhbmdlRGF0YSh0aGlzLCBcIlwiLCBzdGFydCwgZW5kLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBpZihzdGFydD09ZW5kKXtcbiAgICAgICAgLy8gdG8gY2FsY3VsYXRlIEN1cnNvcnMgaW4gY29sbGFib3JhdGlvbiBcbiAgICAgICAgLy8gQ29DcmVhdGVDdXJzb3JzLnJlY2FsY3VsYXRlX2xvY2FsX2N1cnNvcnModGhpcyxjb250ZW50X3RleHQubGVuZ3RoKVxuICAgICAgfVxuICAgICAgLy8uIGluc2VydCBldmVudFxuICAgICAgc2VsZi5zZW5kQ2hhbmdlRGF0YSh0aGlzLCBjb250ZW50X3RleHQsIHN0YXJ0LCBzdGFydCwgZmFsc2UpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH0pXG4gICAgXG4gICAgaW5wdXRfZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjb2NyZWF0ZS15LXVwZGF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgaW5mbyA9IGV2ZW50LmRldGFpbDtcbiAgICAgIGlucHV0X2VsZW1lbnQuY3J1ZFNldHRlZCA9IHRydWU7XG4gICAgICBcbiAgICAgIHZhciBwb3MgPSAwO1xuICAgICAgdmFyIGZsYWcgPSB0cnVlO1xuXG4gICAgICBpbmZvLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtLnJldGFpbikge1xuICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgIHBvcyA9IGl0ZW0ucmV0YWluO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoaXRlbS5pbnNlcnQgfHwgaXRlbS5kZWxldGUpIHtcbiAgICAgICAgICBpZiAoZmxhZyA9PSBmYWxzZSkgcG9zID0gMDtcbiAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGl0ZW0uaW5zZXJ0KSB7XG4gICAgICAgICAgICAvLy4gaW5zZXJ0IHByb2Nlc3NcbiAgICAgICAgICAgIHNlbGYudXBkYXRlQ2hhbmdlRGF0YSh0aGlzLCBpdGVtLmluc2VydCwgcG9zLCBwb3MpXG4gICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmRlbGV0ZSkge1xuICAgICAgICAgICAgLy8uIGRlbGV0ZSBwcm9jZXNzXG4gICAgICAgICAgICBzZWxmLnVwZGF0ZUNoYW5nZURhdGEodGhpcywgXCJcIiwgcG9zLCBwb3MgKyBpdGVtLmRlbGV0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH0sXG5cbiAgc2V0U2VsZWN0aW9uSW5mbzpmdW5jdGlvbihlLCBpc1NlbGVjdCwgc3RhcnQsIGVuZCkge1xuICAgIGUuc2V0QXR0cmlidXRlKFwiaXNfc2VsZWN0ZWRcIiwgaXNTZWxlY3QpO1xuICAgIGUuc2V0QXR0cmlidXRlKFwic2VsZWN0aW9uX3N0YXJ0XCIsIHN0YXJ0KTtcbiAgICBlLnNldEF0dHJpYnV0ZShcInNlbGVjdGlvbl9lbmRcIiwgZW5kKTtcbiAgICAvL2NvbnNvbGUubG9nKFwic3dlbGVjdFwiLGUpXG4gICAgdGhpcy5zZW5kUG9zaXRpb24oZSk7XG4gIH0sXG4gIFxuICBnZXRTZWxlY3Rpb25JbmZvOiBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzX3NlbGVjdGVkOiAoZS5nZXRBdHRyaWJ1dGUoXCJpc19zZWxlY3RlZFwiKSA9PT0gJ3RydWUnKSA/IHRydWUgOiBmYWxzZSxcbiAgICAgIHN0YXJ0OiBwYXJzZUludChlLmdldEF0dHJpYnV0ZShcInNlbGVjdGlvbl9zdGFydFwiKSksXG4gICAgICBlbmQ6cGFyc2VJbnQoZS5nZXRBdHRyaWJ1dGUoXCJzZWxlY3Rpb25fZW5kXCIpKVxuICAgIH1cbiAgfSxcbiAgXG4gIGNoZWNrRG9jdW1lbnRJRDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIGxldCBkb2N1bWVudF9pZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJyk7XG4gICAgaWYgKCFkb2N1bWVudF9pZCB8fCBkb2N1bWVudF9pZCA9PT0gXCJcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgXG4gIHNlbmRDaGFuZ2VEYXRhOiBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50LCBzdGFydCwgZW5kLCBpc1JlbW92ZSA9IHRydWUpIHtcblxuICAgIGlmICghdGhpcy5jaGVja0RvY3VtZW50SUQoZWxlbWVudCkpIHtcbiAgICAgIENvQ3JlYXRlLmRvY3VtZW50X2lkLnJlcXVlc3Qoe2VsZW1lbnQ6IGVsZW1lbnQsIG5hbWVBdHRyOiBcIm5hbWVcIn0pXG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcsICdwZW5kaW5nJyk7XG4gICAgICByZXR1cm4gO1xuICAgIH1cbiAgICBcbiAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKSA9PSAncGVuZGluZycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSxcbiAgICAgICAgICBkb2N1bWVudF9pZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJyksXG4gICAgICAgICAgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgXG4gICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNhdmVfdmFsdWUnKSA9PSAnZmFsc2UnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vY29uc29sZS5sb2coXCJTZW5kQ2hhbmdlRGF0YUZyb20gQ29jcmVhdGUtVGV4dFwiKVxuICAgIGxldCBjaGFyYWN0ZXJfY291bnQgPSBjb250ZW50Lmxlbmd0aCA+IDAgPyBjb250ZW50Lmxlbmd0aCA6IC0xO1xuICAgIENvQ3JlYXRlQ3Vyc29ycy5yZWNhbGN1bGF0ZV9sb2NhbF9jdXJzb3JzKGVsZW1lbnQsY2hhcmFjdGVyX2NvdW50KTtcbiAgICBcbiAgICAgIC8vc2VuZCBwb3NpdGlvbiB3aGVuIGtleVVwIFxuICAgIHRoaXMuc2VuZFBvc2l0aW9uKGVsZW1lbnQpXG4gICAgaWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKGlzUmVtb3ZlKSAge1xuICAgICAgICBlbGVtZW50LnNldFJhbmdlVGV4dChcIlwiLCBzdGFydCwgc3RhcnQgKyBjb250ZW50Lmxlbmd0aCwgXCJzdGFydFwiKVxuICAgICAgfVxuICAgICAgQ29DcmVhdGUuY3JkdC5pbnNlcnQoe1xuICAgICAgICBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSxcbiAgICAgICAgdmFsdWU6IGNvbnRlbnQsXG4gICAgICAgIHBvc2l0aW9uOiBzdGFydFxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzUmVtb3ZlKSBlbGVtZW50LnNldFJhbmdlVGV4dChcIiBcIi5yZXBlYXQoZW5kIC0gc3RhcnQpLCBzdGFydCwgc3RhcnQsIFwiZW5kXCIpXG4gICAgICBDb0NyZWF0ZS5jcmR0LmRlbGV0ZSh7XG4gICAgICAgIGNvbGxlY3Rpb24sIGRvY3VtZW50X2lkLCBuYW1lLFxuICAgICAgICBwb3NpdGlvbjogc3RhcnQsXG4gICAgICAgIGxlbmd0aDogZW5kIC0gc3RhcnQsXG4gICAgICB9KVxuICAgIH1cbiAgICBpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBlbGVtZW50KXtcbiAgICAgIHRoaXMuc2V0U2VsZWN0aW9uSW5mbyhlbGVtZW50LCBmYWxzZSwgZWxlbWVudC5zZWxlY3Rpb25TdGFydCwgZWxlbWVudC5zZWxlY3Rpb25TdGFydCk7XG4gICAgICB0aGlzLnNlbmRQb3NpdGlvbihlbGVtZW50KTtcbiAgICB9XG4gIH0sXG5cbiAgdXBkYXRlQ2hhbmdlRGF0YTogZnVuY3Rpb24oZWxlbWVudCwgY29udGVudCwgc3RhcnQsIGVuZCkge1xuXG4gICAgbGV0IHByZXZfc3RhcnQgPSBlbGVtZW50LnNlbGVjdGlvblN0YXJ0O1xuICAgIGxldCBwcmV2X2VuZCA9IGVsZW1lbnQuc2VsZWN0aW9uRW5kO1xuICAgIGVsZW1lbnQuc2V0UmFuZ2VUZXh0KGNvbnRlbnQsIHN0YXJ0LCBlbmQsIFwiZW5kXCIpO1xuXG4gICAgaWYgKHByZXZfc3RhcnQgPj0gc3RhcnQpIHtcbiAgICAgIGlmIChjb250ZW50ID09IFwiXCIpIHtcbiAgICAgICAgcHJldl9zdGFydCAtPSBlbmQgLSBzdGFydDtcbiAgICAgICAgcHJldl9lbmQgLT0gZW5kIC0gc3RhcnQ7XG4gICAgICAgIHByZXZfc3RhcnQgPSBwcmV2X3N0YXJ0IDwgc3RhcnQgPyBzdGFydCA6IHByZXZfc3RhcnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2X3N0YXJ0ICs9IGNvbnRlbnQubGVuZ3RoO1xuICAgICAgICBwcmV2X2VuZCArPSBjb250ZW50Lmxlbmd0aDtcbiAgICAgIH1cbiAgICB9IHtcbiAgICAgIGlmIChjb250ZW50ID09IFwiXCIgJiYgcHJldl9lbmQgPj0gc3RhcnQpIHtcbiAgICAgICAgcHJldl9lbmQgPSAocHJldl9lbmQgPj0gZW5kKSA/IHByZXZfZW5kIC0gKGVuZCAtIHN0YXJ0KSA6IHN0YXJ0XG4gICAgICB9IFxuICAgIH1cbiAgICBcbiAgICBlbGVtZW50LnNlbGVjdGlvblN0YXJ0ID0gcHJldl9zdGFydDtcbiAgICBlbGVtZW50LnNlbGVjdGlvbkVuZCA9IHByZXZfZW5kO1xuXG4gICAgdmFyIGlzRm9jdXNlZCA9IChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBlbGVtZW50KTtcbiAgICBDb0NyZWF0ZUN1cnNvcnMucmVmcmVzaF9taXJyb3IoZWxlbWVudCk7XG4gICAgXG4gICAgaWYgKENvQ3JlYXRlRmxvYXRpbmdMYWJlbCkgICB7XG4gICAgICBDb0NyZWF0ZUZsb2F0aW5nTGFiZWwudXBkYXRlKGVsZW1lbnQsIGVsZW1lbnQudmFsdWUpXG4gICAgfVxuXG4gIH0sXG4gIFxuICBnZW5lcmF0ZVR5cGVOYW1lOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGNvbGxlY3Rpb24gPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJyk7XG4gICAgdmFyIGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKTtcbiAgICB2YXIgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgXG4gICAgcmV0dXJuIENvQ3JlYXRlLmNyZHQuZ2VuZXJhdGVJRChjb25maWcub3JnYW5pemF0aW9uX0lkLCBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSk7XG4gIH0sXG4gIFxuICBzZXRUZXh0OiBmdW5jdGlvbihlbGVtZW50X2lkLCBpbmZvKSB7XG4gICAgdmFyIHBvcyA9IDA7XG4gICAgdmFyIGZsYWcgPSB0cnVlO1xuICAgIFxuICAgIGluZm8uZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtLnJldGFpbikge1xuICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgcG9zID0gaXRlbS5yZXRhaW47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChpdGVtLmluc2VydCB8fCBpdGVtLmRlbGV0ZSkge1xuICAgICAgICBpZiAoZmxhZyA9PSBmYWxzZSkgcG9zID0gMDtcbiAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgaWYgKGl0ZW0uaW5zZXJ0KSB7XG4gICAgICAgICAgLy8uIGluc2VydCBwcm9jZXNzXG4gICAgICAgICAgdGhpcy5yZWNlaXZlQ2hhbmdlRGF0YShlbGVtZW50X2lkLCBpdGVtLmluc2VydCwgcG9zLCBwb3MpXG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5kZWxldGUpIHtcbiAgICAgICAgICAvLy4gZGVsZXRlIHByb2Nlc3NcbiAgICAgICAgICB0aGlzLnJlY2VpdmVDaGFuZ2VEYXRhKGVsZW1lbnRfaWQsIFwiXCIsIHBvcywgcG9zICsgaXRlbS5kZWxldGUpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIFxuICBpc0F2YWlhYmxlRWw6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuZWxlbWVudHMpXG4gICAgXG4gICAgZm9yICh2YXIgIGkgPSAwOyBpIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc29sZS5sb2codGhpcy5lbGVtZW50c1tpXS5pc0VxdWFsTm9kZShlbGVtZW50KSxlbGVtZW50KVxuICAgICAgaWYgKHRoaXMuZWxlbWVudHNbaV0uaXNFcXVhbE5vZGUoZWxlbWVudCk9PT10cnVlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIFxuICBzZW5kUG9zaXRpb246IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAvL2NvbnNvbGUubG9nKFwiU2UgZW52aW8gXCIpXG4gICAgLyppZiAoIXRoaXMuaXNBdmFpYWJsZUVsKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSovXG4gICAgXG4gICAgY29uc3QgaWQgPSB0aGlzLmdlbmVyYXRlVHlwZU5hbWUoZWxlbWVudCk7XG4gICAgLy9jb25zb2xlLmxvZyhcIiBTRW5kIFBvc2l0aW9uIFNlbGVjdG9yIElEIFwiLGlkKVxuICAgIC8vY29uc29sZS5sb2coZWxlbWVudC5zZWxlY3Rpb25TdGFydCwgZWxlbWVudC5zZWxlY3Rpb25FbmQpO1xuICAgIGxldCBmcm9tID0gZWxlbWVudC5zZWxlY3Rpb25TdGFydDtcbiAgICBsZXQgdG8gPSBlbGVtZW50LnNlbGVjdGlvbkVuZDtcbiAgICAvL2NvbnNvbGUubG9nKFwiU2UgZW52aW8gbGEgcG9zaXRpb24gXCIsaWQsZnJvbSwgdG8pXG4gICAgQ29DcmVhdGUuY3JkdC5zZXRQb3NpdGlvbllKUyhpZCwgZnJvbSwgdG8pO1xuICAgIFxuICB9XG59XG5cblxuQ29DcmVhdGVUZXh0LmluaXQoKTtcbi8vIENvQ3JlYXRlSW5pdC5yZWdpc3RlcignQ29DcmVhdGVUZXh0JywgQ29DcmVhdGVUZXh0LCBDb0NyZWF0ZVRleHQuaW5pdEVsZW1lbnQpO1xuXG5Db0NyZWF0ZS5vYnNlcnZlci5hZGQoeyBcblx0bmFtZTogJ0NvQ3JlYXRlVGV4dENyZWF0ZScsIFxuXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0J10sXG5cdGluY2x1ZGU6ICdbZGF0YS1jb2xsZWN0aW9uXVtkYXRhLWRvY3VtZW50X2lkXVtuYW1lXScsIFxuXHRjYWxsYmFjazogZnVuY3Rpb24obXV0YXRpb24pIHtcblx0ICBjb25zb2xlLmxvZygnY29jcmVhdGUtdGV4dCBpbml0Jylcblx0XHRDb0NyZWF0ZVRleHQuaW5pdEVsZW1lbnQobXV0YXRpb24udGFyZ2V0KVxuXHR9XG59KTtcblxuQ29DcmVhdGUub2JzZXJ2ZXIuYWRkKHsgXG5cdG5hbWU6ICdDb0NyZWF0ZVRleHROYW1lT2JzZXJ2ZXInLCBcblx0b2JzZXJ2ZTogWydhdHRyaWJ1dGVzJ10sXG5cdGF0dHJpYnV0ZXM6IFsnbmFtZSddLFxuXHRjYWxsYmFjazogZnVuY3Rpb24obXV0YXRpb24pIHtcblx0XHRjb25zb2xlLmxvZygnY2hhbmdlIGNvY3JlYXRlLXRleHQgbmFtZScpXG5cdFx0Q29DcmVhdGVUZXh0LnJlZnJlc2hFbGVtZW50KG11dGF0aW9uKVxuXHR9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ29DcmVhdGVUZXh0OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../CoCreate-components/CoCreate-text/src/CoCreate-text.js\n");

/***/ })

/******/ })["default"];
});