(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["text"] = factory();
	else
		root["CoCreate"] = root["CoCreate"] || {}, root["CoCreate"]["text"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "../CoCreate-components/CoCreate-text/src/CoCreate-text.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../CoCreate-components/CoCreate-text/src/CoCreate-text.js":
/*!*****************************************************************!*\
  !*** ../CoCreate-components/CoCreate-text/src/CoCreate-text.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n\nvar CoCreateText = {\n  elements: [],\n  init: function init() {\n    this.initElement(document); // this.initSockets();\n  },\n  refreshElement: function refreshElement(mutation) {\n    var element = mutation.target;\n    if (!element) return;\n    var tagName = element.tagName.toLowerCase();\n\n    if (!['input', 'textarea'].includes(tagName) || !element.getAttribute('data-document_id') || !element.getAttribute('name')) {\n      return;\n    }\n\n    if (!CoCreate.input.isUsageY(element)) return;\n\n    if (!CoCreate.observer.getInitialized(element, 'text')) {\n      this.__initEvents(element);\n    }\n\n    CoCreate.observer.setInitialized(element, 'text');\n\n    if (CoCreate.document_id.checkID(element)) {\n      // element.value = \"\";\n      this.createYDoc(element, true);\n    }\n  },\n  initElement: function initElement(container) {\n    var self = this;\n    var fetch_container = container || document;\n    var elements = fetch_container.querySelectorAll('input[data-document_id][name], textarea[data-document_id][name]');\n\n    if (elements.length == 0 && fetch_container != document && fetch_container.hasAttribute('data-document_id') && fetch_container.hasAttribute('name')) {\n      elements = [fetch_container];\n    }\n\n    elements.forEach(function (element) {\n      if (!CoCreate.input.isUsageY(element)) {\n        return;\n      }\n\n      if (self.checkExistElement(element)) {\n        // this.setInitValue(elements[i])\n        return;\n      }\n\n      if (CoCreate.observer.getInitialized(element, 'text')) {\n        return;\n      }\n\n      CoCreate.observer.setInitialized(element, 'text');\n\n      self.__initEvents(element);\n\n      if (CoCreate.document_id.checkID(element)) {\n        self.createYDoc(element);\n      } else {\n        //. register create document_id event\n        element.addEventListener('set-document_id', function (event) {\n          var el = this;\n          var text_str = el.value;\n          self.createYDoc(el);\n          self.sendChangeData(el, text_str, 0, text_str.length);\n        });\n      }\n    });\n  },\n  checkExistElement: function checkExistElement(element) {\n    for (var i = 0; i < this.elements.length; i++) {\n      if (this.elements[i].isSameNode(element)) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n  setInitValue: function setInitValue(element) {\n    var typeId = this.generateTypeName(element);\n    var value = CoCreate.crdt.getWholeString(typeId);\n    element.value = value; // CoCreate.input.setValue(element, value);\n  },\n  createYDoc: function createYDoc(element, isExclude) {\n    var collection = element.getAttribute('data-collection');\n    var document_id = element.getAttribute('data-document_id');\n    var name = element.getAttribute('name');\n    var status = CoCreate.crdt.init({\n      collection: collection,\n      document_id: document_id,\n      name: name,\n      element: element\n    });\n\n    if (!isExclude) {\n      this.elements.push(element);\n    } else {\n      element.value = CoCreate.crdt.getText({\n        collection: collection,\n        document_id: document_id,\n        name: name\n      }); // CoCreate.input.setValue(element, CoCreate.crdt.getText({collection, document_id, name }));\n    }\n  },\n  __initEvents: function __initEvents(input_element) {\n    //. selection event\n    var self = this;\n    input_element.addEventListener('select', function () {\n      if (this.selectionEnd !== this.selectionStart) {\n        self.setSelectionInfo(this, true, this.selectionStart, this.selectionEnd);\n        if (document.activeElement === this) self.sendPosition(this);\n      }\n    });\n    input_element.addEventListener('keyup', function (event) {\n      var arrows = [37, 38, 39, 40];\n\n      if (arrows.indexOf(event.keyCode) != -1) {\n        self.sendPosition(this);\n      }\n    });\n    input_element.addEventListener('keydown', function (event) {\n      var arrows = [37, 38, 39, 40];\n\n      if (arrows.indexOf(event.keyCode) != -1) {\n        //console.log(\"keydown ---- \")\n        self.sendPosition(this);\n      }\n    });\n    input_element.addEventListener('click', function (event) {\n      if (document.activeElement === this) self.sendPosition(this);\n    });\n    input_element.addEventListener('blur', function (event) {\n      var id = self.generateTypeName(this);\n      CoCreate.crdt.setCursorNull(id);\n    });\n    input_element.addEventListener('input', function (event) {\n      var nowstart = this.selectionStart - 1;\n      var nowend = nowstart;\n      var selection_info = self.getSelectionInfo(this);\n      var content_text = \"\";\n      var isUpdate = false;\n\n      switch (event.inputType) {\n        case 'deleteContentBackward':\n          isUpdate = true;\n          nowstart++;\n          nowend = nowstart + 1;\n          break;\n\n        case 'deleteContentForward':\n          isUpdate = true;\n          nowstart++;\n          nowend = nowstart + 1;\n          break;\n\n        case 'insertLineBreak':\n          isUpdate = true;\n          content_text = \"\\n\";\n          nowend++;\n          break;\n\n        case 'insertText':\n          isUpdate = true;\n          content_text = event.data || \"\\n\";\n          break;\n\n        case 'deleteByCut':\n          isUpdate = true;\n          break;\n      }\n\n      if (isUpdate) {\n        if (selection_info.is_selected) {\n          //. delete event\n          var character_deleted = selection_info.start - selection_info.end; //CoCreate.cursors.recalculate_local_cursors(this,character_deleted)\n\n          self.sendChangeData(this, \"\", selection_info.start, selection_info.end);\n\n          if (content_text.length > 0) {\n            self.sendChangeData(this, content_text, nowstart, nowend);\n          }\n\n          self.setSelectionInfo(this, false, this.selectionStart, this.selectionStart);\n        } else {\n          self.sendChangeData(this, content_text, nowstart, nowend);\n        }\n      }\n    });\n    /** unselect events **/\n\n    input_element.addEventListener('blur', function (e) {\n      self.setSelectionInfo(this, false, this.selectionStart, this.selectionStart);\n    });\n    input_element.addEventListener('click', function (e) {\n      self.setSelectionInfo(this, false, this.selectionStart, this.selectionStart);\n    });\n    /** past events **/\n\n    input_element.addEventListener('paste', function (event) {\n      var content_text = event.clipboardData.getData('Text');\n      var start = this.selectionStart;\n      var end = this.selectionEnd; //. send delete event\n\n      if (start != end) {\n        this.setSelectionRange(end, end);\n        self.sendChangeData(this, \"\", start, end, false);\n      }\n\n      if (start == end) {// to calculate Cursors in collaboration \n        // CoCreate.cursors.recalculate_local_cursors(this,content_text.length)\n      } //. insert event\n\n\n      self.sendChangeData(this, content_text, start, start, false);\n      event.preventDefault();\n    });\n    input_element.addEventListener('cocreate-y-update', function (event) {\n      var _this = this;\n\n      var info = event.detail;\n      input_element.crudSetted = true;\n      var pos = 0;\n      var flag = true;\n      info.forEach(function (item) {\n        if (item.retain) {\n          flag = true;\n          pos = item.retain;\n        }\n\n        if (item.insert || item[\"delete\"]) {\n          if (flag == false) pos = 0;\n          flag = false;\n\n          if (item.insert) {\n            //. insert process\n            self.updateChangeData(_this, item.insert, pos, pos);\n          } else if (item[\"delete\"]) {\n            //. delete process\n            self.updateChangeData(_this, \"\", pos, pos + item[\"delete\"]);\n          }\n        }\n      });\n    });\n  },\n  setSelectionInfo: function setSelectionInfo(e, isSelect, start, end) {\n    e.setAttribute(\"is_selected\", isSelect);\n    e.setAttribute(\"selection_start\", start);\n    e.setAttribute(\"selection_end\", end); //console.log(\"swelect\",e)\n\n    this.sendPosition(e);\n  },\n  getSelectionInfo: function getSelectionInfo(e) {\n    return {\n      is_selected: e.getAttribute(\"is_selected\") === 'true' ? true : false,\n      start: parseInt(e.getAttribute(\"selection_start\")),\n      end: parseInt(e.getAttribute(\"selection_end\"))\n    };\n  },\n  checkDocumentID: function checkDocumentID(element) {\n    var document_id = element.getAttribute('data-document_id');\n\n    if (!document_id || document_id === \"\") {\n      return false;\n    }\n\n    return true;\n  },\n  sendChangeData: function sendChangeData(element, content, start, end) {\n    var isRemove = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\n    if (!this.checkDocumentID(element)) {\n      CoCreate.document_id.request({\n        element: element,\n        nameAttr: \"name\"\n      });\n      element.setAttribute('data-document_id', 'pending');\n      return;\n    }\n\n    if (element.getAttribute('data-document_id') == 'pending') {\n      return;\n    }\n\n    var collection = element.getAttribute('data-collection'),\n        document_id = element.getAttribute('data-document_id'),\n        name = element.getAttribute('name');\n\n    if (element.getAttribute('data-save_value') == 'false') {\n      return;\n    } //console.log(\"SendChangeDataFrom Cocreate-Text\")\n\n\n    var character_count = content.length > 0 ? content.length : -1;\n    CoCreate.cursors.recalculate_local_cursors(element, character_count); //send position when keyUp \n\n    this.sendPosition(element);\n\n    if (content.length > 0) {\n      if (isRemove) {\n        element.setRangeText(\"\", start, start + content.length, \"start\");\n      }\n\n      CoCreate.crdt.insertText({\n        collection: collection,\n        document_id: document_id,\n        name: name,\n        value: content,\n        position: start\n      });\n    } else {\n      if (isRemove) element.setRangeText(\" \".repeat(end - start), start, start, \"end\");\n      CoCreate.crdt.deleteText({\n        collection: collection,\n        document_id: document_id,\n        name: name,\n        position: start,\n        length: end - start\n      });\n    }\n\n    if (document.activeElement === element) {\n      this.setSelectionInfo(element, false, element.selectionStart, element.selectionStart);\n      this.sendPosition(element);\n    }\n  },\n  updateChangeData: function updateChangeData(element, content, start, end) {\n    var prev_start = element.selectionStart;\n    var prev_end = element.selectionEnd;\n    element.setRangeText(content, start, end, \"end\");\n\n    if (prev_start >= start) {\n      if (content == \"\") {\n        prev_start -= end - start;\n        prev_end -= end - start;\n        prev_start = prev_start < start ? start : prev_start;\n      } else {\n        prev_start += content.length;\n        prev_end += content.length;\n      }\n    }\n\n    {\n      if (content == \"\" && prev_end >= start) {\n        prev_end = prev_end >= end ? prev_end - (end - start) : start;\n      }\n    }\n    element.selectionStart = prev_start;\n    element.selectionEnd = prev_end;\n    var isFocused = document.activeElement === element;\n    CoCreate.cursors.refresh_mirror(element);\n\n    if (CoCreate.floatingLabel) {\n      CoCreate.floatingLabel.update(element, element.value);\n    }\n  },\n  generateTypeName: function generateTypeName(element) {\n    var collection = element.getAttribute('data-collection');\n    var document_id = element.getAttribute('data-document_id');\n    var name = element.getAttribute('name');\n    return CoCreate.crdt.generateID(config.organization_Id, collection, document_id, name);\n  },\n  setText: function setText(element_id, info) {\n    var _this2 = this;\n\n    var pos = 0;\n    var flag = true;\n    info.forEach(function (item) {\n      if (item.retain) {\n        flag = true;\n        pos = item.retain;\n      }\n\n      if (item.insert || item[\"delete\"]) {\n        if (flag == false) pos = 0;\n        flag = false;\n\n        if (item.insert) {\n          //. insert process\n          _this2.receiveChangeData(element_id, item.insert, pos, pos);\n        } else if (item[\"delete\"]) {\n          //. delete process\n          _this2.receiveChangeData(element_id, \"\", pos, pos + item[\"delete\"]);\n        }\n      }\n    });\n  },\n  isAvaiableEl: function isAvaiableEl(element) {\n    //console.log(this.elements)\n    for (var i = 0; i < this.elements.length; i++) {\n      console.log(this.elements[i].isEqualNode(element), element);\n\n      if (this.elements[i].isEqualNode(element) === true) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n  sendPosition: function sendPosition(element) {\n    //console.log(\"Se envio \")\n\n    /*if (!this.isAvaiableEl(element)) {\n      return;\n    }*/\n    var id = this.generateTypeName(element); //console.log(\" SEnd Position Selector ID \",id)\n    //console.log(element.selectionStart, element.selectionEnd);\n\n    var from = element.selectionStart;\n    var to = element.selectionEnd; //console.log(\"Se envio la position \",id,from, to)\n\n    CoCreate.crdt.setPositionYJS(id, from, to);\n  }\n};\nCoCreateText.init(); // CoCreateInit.register('CoCreateText', CoCreateText, CoCreateText.initElement);\n\nCoCreate.observer.add({\n  name: 'CoCreateTextCreate',\n  observe: ['subtree', 'childList'],\n  include: '[data-collection][data-document_id][name]',\n  callback: function callback(mutation) {\n    console.log('cocreate-text init');\n    CoCreateText.initElement(mutation.target);\n  }\n});\nCoCreate.observer.add({\n  name: 'CoCreateTextNameObserver',\n  observe: ['attributes'],\n  attributes: ['name'],\n  callback: function callback(mutation) {\n    console.log('change cocreate-text name');\n    CoCreateText.refreshElement(mutation);\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoCreateText);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS50ZXh0Ly4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtdGV4dC9zcmMvQ29DcmVhdGUtdGV4dC5qcz8xNzUyIl0sIm5hbWVzIjpbIkNvQ3JlYXRlVGV4dCIsImVsZW1lbnRzIiwiaW5pdCIsImluaXRFbGVtZW50IiwiZG9jdW1lbnQiLCJyZWZyZXNoRWxlbWVudCIsIm11dGF0aW9uIiwiZWxlbWVudCIsInRhcmdldCIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiZ2V0QXR0cmlidXRlIiwiQ29DcmVhdGUiLCJpbnB1dCIsImlzVXNhZ2VZIiwib2JzZXJ2ZXIiLCJnZXRJbml0aWFsaXplZCIsIl9faW5pdEV2ZW50cyIsInNldEluaXRpYWxpemVkIiwiZG9jdW1lbnRfaWQiLCJjaGVja0lEIiwiY3JlYXRlWURvYyIsImNvbnRhaW5lciIsInNlbGYiLCJmZXRjaF9jb250YWluZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiaGFzQXR0cmlidXRlIiwiZm9yRWFjaCIsImNoZWNrRXhpc3RFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZWwiLCJ0ZXh0X3N0ciIsInZhbHVlIiwic2VuZENoYW5nZURhdGEiLCJpIiwiaXNTYW1lTm9kZSIsInNldEluaXRWYWx1ZSIsInR5cGVJZCIsImdlbmVyYXRlVHlwZU5hbWUiLCJjcmR0IiwiZ2V0V2hvbGVTdHJpbmciLCJpc0V4Y2x1ZGUiLCJjb2xsZWN0aW9uIiwibmFtZSIsInN0YXR1cyIsInB1c2giLCJnZXRUZXh0IiwiaW5wdXRfZWxlbWVudCIsInNlbGVjdGlvbkVuZCIsInNlbGVjdGlvblN0YXJ0Iiwic2V0U2VsZWN0aW9uSW5mbyIsImFjdGl2ZUVsZW1lbnQiLCJzZW5kUG9zaXRpb24iLCJhcnJvd3MiLCJpbmRleE9mIiwia2V5Q29kZSIsImlkIiwic2V0Q3Vyc29yTnVsbCIsIm5vd3N0YXJ0Iiwibm93ZW5kIiwic2VsZWN0aW9uX2luZm8iLCJnZXRTZWxlY3Rpb25JbmZvIiwiY29udGVudF90ZXh0IiwiaXNVcGRhdGUiLCJpbnB1dFR5cGUiLCJkYXRhIiwiaXNfc2VsZWN0ZWQiLCJjaGFyYWN0ZXJfZGVsZXRlZCIsInN0YXJ0IiwiZW5kIiwiZSIsImNsaXBib2FyZERhdGEiLCJnZXREYXRhIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJwcmV2ZW50RGVmYXVsdCIsImluZm8iLCJkZXRhaWwiLCJjcnVkU2V0dGVkIiwicG9zIiwiZmxhZyIsIml0ZW0iLCJyZXRhaW4iLCJpbnNlcnQiLCJ1cGRhdGVDaGFuZ2VEYXRhIiwiaXNTZWxlY3QiLCJzZXRBdHRyaWJ1dGUiLCJwYXJzZUludCIsImNoZWNrRG9jdW1lbnRJRCIsImNvbnRlbnQiLCJpc1JlbW92ZSIsInJlcXVlc3QiLCJuYW1lQXR0ciIsImNoYXJhY3Rlcl9jb3VudCIsImN1cnNvcnMiLCJyZWNhbGN1bGF0ZV9sb2NhbF9jdXJzb3JzIiwic2V0UmFuZ2VUZXh0IiwiaW5zZXJ0VGV4dCIsInBvc2l0aW9uIiwicmVwZWF0IiwiZGVsZXRlVGV4dCIsInByZXZfc3RhcnQiLCJwcmV2X2VuZCIsImlzRm9jdXNlZCIsInJlZnJlc2hfbWlycm9yIiwiZmxvYXRpbmdMYWJlbCIsInVwZGF0ZSIsImdlbmVyYXRlSUQiLCJjb25maWciLCJvcmdhbml6YXRpb25fSWQiLCJzZXRUZXh0IiwiZWxlbWVudF9pZCIsInJlY2VpdmVDaGFuZ2VEYXRhIiwiaXNBdmFpYWJsZUVsIiwiY29uc29sZSIsImxvZyIsImlzRXF1YWxOb2RlIiwiZnJvbSIsInRvIiwic2V0UG9zaXRpb25ZSlMiLCJhZGQiLCJvYnNlcnZlIiwiaW5jbHVkZSIsImNhbGxiYWNrIiwiYXR0cmlidXRlcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBYTs7QUFFYixJQUFJQSxZQUFZLEdBQUc7QUFDakJDLFVBQVEsRUFBRSxFQURPO0FBR2pCQyxNQUFJLEVBQUcsZ0JBQVc7QUFDaEIsU0FBS0MsV0FBTCxDQUFpQkMsUUFBakIsRUFEZ0Is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QVVBSyxRQUFRLENBQUNHLFFBQVQsQ0FBa0IwRyxHQUFsQixDQUFzQjtBQUNyQjVFLE1BQUksRUFBRSwwQkFEZTtBQUVyQjZFLFNBQU8sRUFBRSxDQUFDLFlBQUQsQ0FGWTtBQUdyQkcsWUFBVSxFQUFFLENBQUMsTUFBRCxDQUhTO0FBSXJCRCxVQUFRLEVBQUUsa0JBQVN2SCxRQUFULEVBQW1CO0FBQzVCOEcsV0FBTyxDQUFDQyxHQUFSLENBQVksMkJBQVo7QUFDQXJILGdCQUFZLENBQUNLLGNBQWIsQ0FBNEJDLFFBQTVCO0FBQ0E7QUFQb0IsQ0FBdEI7QUFVZU4sMkVBQWYiLCJmaWxlIjoiLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS10ZXh0L3NyYy9Db0NyZWF0ZS10ZXh0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBDb0NyZWF0ZVRleHQgPSB7XG4gIGVsZW1lbnRzOiBbXSxcbiAgXG4gIGluaXQgOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluaXRFbGVtZW50KGRvY3VtZW50KTtcbiAgICAvLyB0aGlzLmluaXRTb2NrZXRzKCk7XG4gIH0sXG4gIFxuICByZWZyZXNoRWxlbWVudDogZnVuY3Rpb24obXV0YXRpb24pIHtcbiAgICBsZXQgZWxlbWVudCA9IG11dGF0aW9uLnRhcmdldDtcbiAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcbiAgICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKCFbJ2lucHV0JywgJ3RleHRhcmVhJ10uaW5jbHVkZXModGFnTmFtZSkgfHxcbiAgICAgICAgIWVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJykgfHxcbiAgICAgICAgIWVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJykpIHtcbiAgICAgIHJldHVybiBcbiAgICB9XG4gICAgXG4gICAgaWYgKCFDb0NyZWF0ZS5pbnB1dC5pc1VzYWdlWShlbGVtZW50KSkgcmV0dXJuO1xuICAgIFxuICAgIGlmICghQ29DcmVhdGUub2JzZXJ2ZXIuZ2V0SW5pdGlhbGl6ZWQoZWxlbWVudCwgJ3RleHQnKSkge1xuICAgICAgdGhpcy5fX2luaXRFdmVudHMoZWxlbWVudCk7XG4gICAgfVxuICAgIENvQ3JlYXRlLm9ic2VydmVyLnNldEluaXRpYWxpemVkKGVsZW1lbnQsICd0ZXh0Jyk7XG4gICAgXG4gICAgaWYgKENvQ3JlYXRlLmRvY3VtZW50X2lkLmNoZWNrSUQoZWxlbWVudCkpIHtcbiAgICAgIC8vIGVsZW1lbnQudmFsdWUgPSBcIlwiO1xuICAgICAgdGhpcy5jcmVhdGVZRG9jKGVsZW1lbnQsIHRydWUpO1xuICAgIH1cbiAgICBcbiAgfSxcbiAgXG4gIGluaXRFbGVtZW50OiBmdW5jdGlvbihjb250YWluZXIpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGZldGNoX2NvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudDtcbiAgICBcbiAgICBsZXQgZWxlbWVudHMgPSBmZXRjaF9jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbZGF0YS1kb2N1bWVudF9pZF1bbmFtZV0sIHRleHRhcmVhW2RhdGEtZG9jdW1lbnRfaWRdW25hbWVdJyk7XG4gICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAwICYmIFxuICAgICAgICBmZXRjaF9jb250YWluZXIgIT0gZG9jdW1lbnQgJiZcbiAgICAgICAgZmV0Y2hfY29udGFpbmVyLmhhc0F0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpICYmIFxuICAgICAgICBmZXRjaF9jb250YWluZXIuaGFzQXR0cmlidXRlKCduYW1lJykpIFxuICAgIHtcbiAgICAgIGVsZW1lbnRzID0gW2ZldGNoX2NvbnRhaW5lcl07XG4gICAgfVxuXG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgaWYgKCFDb0NyZWF0ZS5pbnB1dC5pc1VzYWdlWShlbGVtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChzZWxmLmNoZWNrRXhpc3RFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgIC8vIHRoaXMuc2V0SW5pdFZhbHVlKGVsZW1lbnRzW2ldKVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcblx0XHRcdGlmIChDb0NyZWF0ZS5vYnNlcnZlci5nZXRJbml0aWFsaXplZChlbGVtZW50LCAndGV4dCcpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdENvQ3JlYXRlLm9ic2VydmVyLnNldEluaXRpYWxpemVkKGVsZW1lbnQsICd0ZXh0Jyk7XG4gICAgICBcbiAgICAgIHNlbGYuX19pbml0RXZlbnRzKGVsZW1lbnQpO1xuICAgICAgXG4gICAgICBpZiAoQ29DcmVhdGUuZG9jdW1lbnRfaWQuY2hlY2tJRChlbGVtZW50KSkge1xuICAgICAgICBzZWxmLmNyZWF0ZVlEb2MoZWxlbWVudCk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vLiByZWdpc3RlciBjcmVhdGUgZG9jdW1lbnRfaWQgZXZlbnRcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzZXQtZG9jdW1lbnRfaWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIHZhciBlbCA9IHRoaXM7XG4gICAgICAgICAgdmFyIHRleHRfc3RyID0gZWwudmFsdWU7XG4gICAgICAgICAgc2VsZi5jcmVhdGVZRG9jKGVsKTtcbiAgICAgICAgICBzZWxmLnNlbmRDaGFuZ2VEYXRhKGVsLCB0ZXh0X3N0ciwgMCwgdGV4dF9zdHIubGVuZ3RoKTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBcbiAgY2hlY2tFeGlzdEVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmVsZW1lbnRzW2ldLmlzU2FtZU5vZGUoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgXG4gIHNldEluaXRWYWx1ZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHZhciB0eXBlSWQgPSB0aGlzLmdlbmVyYXRlVHlwZU5hbWUoZWxlbWVudCk7XG4gICAgdmFyIHZhbHVlID0gQ29DcmVhdGUuY3JkdC5nZXRXaG9sZVN0cmluZyh0eXBlSWQpO1xuICAgIGVsZW1lbnQudmFsdWUgPSB2YWx1ZTtcbiAgICBcbiAgICAvLyBDb0NyZWF0ZS5pbnB1dC5zZXRWYWx1ZShlbGVtZW50LCB2YWx1ZSk7XG4gIH0sXG4gIFxuICBjcmVhdGVZRG9jOiBmdW5jdGlvbihlbGVtZW50LCBpc0V4Y2x1ZGUpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0Y29uc3QgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpXG5cdFx0Y29uc3QgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgY29uc3Qgc3RhdHVzID0gQ29DcmVhdGUuY3JkdC5pbml0KHtcbiAgICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb24sXG4gICAgICBkb2N1bWVudF9pZDogZG9jdW1lbnRfaWQsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICB9KVxuICAgIGlmICghaXNFeGNsdWRlKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLnB1c2goZWxlbWVudClcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC52YWx1ZSA9IENvQ3JlYXRlLmNyZHQuZ2V0VGV4dCh7Y29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUgfSlcbiAgICAgIC8vIENvQ3JlYXRlLmlucHV0LnNldFZhbHVlKGVsZW1lbnQsIENvQ3JlYXRlLmNyZHQuZ2V0VGV4dCh7Y29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUgfSkpO1xuICAgIH1cbiAgfSxcbiAgXG4gIFxuICBfX2luaXRFdmVudHM6IGZ1bmN0aW9uKGlucHV0X2VsZW1lbnQpIHtcblxuICAgIC8vLiBzZWxlY3Rpb24gZXZlbnRcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBcbiAgICBpbnB1dF9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uRW5kICE9PSB0aGlzLnNlbGVjdGlvblN0YXJ0KSB7XG4gICAgICAgIHNlbGYuc2V0U2VsZWN0aW9uSW5mbyh0aGlzLCB0cnVlLCB0aGlzLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnNlbGVjdGlvbkVuZClcbiAgICAgICAgXG4gICAgICAgIGlmKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMpXG4gICAgICAgICAgc2VsZi5zZW5kUG9zaXRpb24odGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgaW5wdXRfZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGxldCBhcnJvd3MgPSBbMzcsMzgsMzksNDBdO1xuICAgICAgICBpZihhcnJvd3MuaW5kZXhPZihldmVudC5rZXlDb2RlKSE9LTEpe1xuICAgICAgICAgIHNlbGYuc2VuZFBvc2l0aW9uKHRoaXMpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgaW5wdXRfZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgbGV0IGFycm93cyA9IFszNywzOCwzOSw0MF07XG4gICAgICAgIGlmKGFycm93cy5pbmRleE9mKGV2ZW50LmtleUNvZGUpIT0tMSl7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhcImtleWRvd24gLS0tLSBcIilcbiAgICAgICAgICBzZWxmLnNlbmRQb3NpdGlvbih0aGlzKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGlucHV0X2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzKVxuICAgICAgICAgIHNlbGYuc2VuZFBvc2l0aW9uKHRoaXMpO1xuICAgIH0pO1xuICAgIFxuICAgIGlucHV0X2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGlkID0gc2VsZi5nZW5lcmF0ZVR5cGVOYW1lKHRoaXMpO1xuICAgICAgICBDb0NyZWF0ZS5jcmR0LnNldEN1cnNvck51bGwoaWQpO1xuICAgIH0pO1xuICAgIFxuICAgIGlucHV0X2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgbGV0IG5vd3N0YXJ0ID0gdGhpcy5zZWxlY3Rpb25TdGFydCAtIDE7XG4gICAgICBsZXQgbm93ZW5kID0gbm93c3RhcnQ7XG4gICAgICBsZXQgc2VsZWN0aW9uX2luZm8gPSBzZWxmLmdldFNlbGVjdGlvbkluZm8odGhpcyk7XG4gICAgICBsZXQgY29udGVudF90ZXh0ID0gXCJcIjtcbiAgICAgIGxldCBpc1VwZGF0ZSA9IGZhbHNlOyAgICAgIFxuICAgICAgc3dpdGNoIChldmVudC5pbnB1dFR5cGUpIHtcbiAgICAgICAgY2FzZSAnZGVsZXRlQ29udGVudEJhY2t3YXJkJzpcbiAgICAgICAgICBpc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgbm93c3RhcnQgKys7XG4gICAgICAgICAgbm93ZW5kID0gbm93c3RhcnQgKyAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkZWxldGVDb250ZW50Rm9yd2FyZCc6XG4gICAgICAgICAgaXNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgIG5vd3N0YXJ0ICsrO1xuICAgICAgICAgIG5vd2VuZCA9IG5vd3N0YXJ0ICsgMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaW5zZXJ0TGluZUJyZWFrJzpcbiAgICAgICAgICBpc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgY29udGVudF90ZXh0ID0gXCJcXG5cIjtcbiAgICAgICAgICBub3dlbmQgKys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2luc2VydFRleHQnOlxuICAgICAgICAgIGlzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICBjb250ZW50X3RleHQgPSBldmVudC5kYXRhIHx8IFwiXFxuXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RlbGV0ZUJ5Q3V0JzpcbiAgICAgICAgICBpc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICBcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGlzVXBkYXRlKSB7XG4gICAgICAgIGlmIChzZWxlY3Rpb25faW5mby5pc19zZWxlY3RlZCkge1xuICAgICAgICAgIC8vLiBkZWxldGUgZXZlbnRcbiAgICAgICAgICBsZXQgY2hhcmFjdGVyX2RlbGV0ZWQgPSBzZWxlY3Rpb25faW5mby5zdGFydCAtIHNlbGVjdGlvbl9pbmZvLmVuZDtcbiAgICAgICAgICBcbiAgICAgICAgICAvL0NvQ3JlYXRlLmN1cnNvcnMucmVjYWxjdWxhdGVfbG9jYWxfY3Vyc29ycyh0aGlzLGNoYXJhY3Rlcl9kZWxldGVkKVxuICAgICAgICAgIFxuICAgICAgICAgIHNlbGYuc2VuZENoYW5nZURhdGEodGhpcywgXCJcIiwgc2VsZWN0aW9uX2luZm8uc3RhcnQsIHNlbGVjdGlvbl9pbmZvLmVuZCk7XG4gICAgICAgICAgaWYgKGNvbnRlbnRfdGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWxmLnNlbmRDaGFuZ2VEYXRhKHRoaXMsIGNvbnRlbnRfdGV4dCwgbm93c3RhcnQsIG5vd2VuZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGYuc2V0U2VsZWN0aW9uSW5mbyh0aGlzLCBmYWxzZSwgdGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25TdGFydCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5zZW5kQ2hhbmdlRGF0YSh0aGlzLCBjb250ZW50X3RleHQsIG5vd3N0YXJ0LCBub3dlbmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8qKiB1bnNlbGVjdCBldmVudHMgKiovICAgIFxuICAgIGlucHV0X2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHNlbGYuc2V0U2VsZWN0aW9uSW5mbyh0aGlzLCBmYWxzZSwgdGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25TdGFydCk7XG4gICAgfSlcbiAgICBpbnB1dF9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgc2VsZi5zZXRTZWxlY3Rpb25JbmZvKHRoaXMsIGZhbHNlLCB0aGlzLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnNlbGVjdGlvblN0YXJ0KTtcbiAgICB9KVxuICAgIFxuICAgIC8qKiBwYXN0IGV2ZW50cyAqKi9cbiAgICBpbnB1dF9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGxldCBjb250ZW50X3RleHQgPSBldmVudC5jbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKTtcbiAgICAgIGxldCBzdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICBsZXQgZW5kID0gdGhpcy5zZWxlY3Rpb25FbmQ7XG4gICAgICAvLy4gc2VuZCBkZWxldGUgZXZlbnRcbiAgICAgIGlmIChzdGFydCAhPSBlbmQpIHtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShlbmQsIGVuZClcbiAgICAgICAgc2VsZi5zZW5kQ2hhbmdlRGF0YSh0aGlzLCBcIlwiLCBzdGFydCwgZW5kLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBpZihzdGFydD09ZW5kKXtcbiAgICAgICAgLy8gdG8gY2FsY3VsYXRlIEN1cnNvcnMgaW4gY29sbGFib3JhdGlvbiBcbiAgICAgICAgLy8gQ29DcmVhdGUuY3Vyc29ycy5yZWNhbGN1bGF0ZV9sb2NhbF9jdXJzb3JzKHRoaXMsY29udGVudF90ZXh0Lmxlbmd0aClcbiAgICAgIH1cbiAgICAgIC8vLiBpbnNlcnQgZXZlbnRcbiAgICAgIHNlbGYuc2VuZENoYW5nZURhdGEodGhpcywgY29udGVudF90ZXh0LCBzdGFydCwgc3RhcnQsIGZhbHNlKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9KVxuICAgIFxuICAgIGlucHV0X2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29jcmVhdGUteS11cGRhdGUnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIGluZm8gPSBldmVudC5kZXRhaWw7XG4gICAgICBpbnB1dF9lbGVtZW50LmNydWRTZXR0ZWQgPSB0cnVlO1xuICAgICAgXG4gICAgICB2YXIgcG9zID0gMDtcbiAgICAgIHZhciBmbGFnID0gdHJ1ZTtcblxuICAgICAgaW5mby5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS5yZXRhaW4pIHtcbiAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICBwb3MgPSBpdGVtLnJldGFpbjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGl0ZW0uaW5zZXJ0IHx8IGl0ZW0uZGVsZXRlKSB7XG4gICAgICAgICAgaWYgKGZsYWcgPT0gZmFsc2UpIHBvcyA9IDA7XG4gICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChpdGVtLmluc2VydCkge1xuICAgICAgICAgICAgLy8uIGluc2VydCBwcm9jZXNzXG4gICAgICAgICAgICBzZWxmLnVwZGF0ZUNoYW5nZURhdGEodGhpcywgaXRlbS5pbnNlcnQsIHBvcywgcG9zKVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5kZWxldGUpIHtcbiAgICAgICAgICAgIC8vLiBkZWxldGUgcHJvY2Vzc1xuICAgICAgICAgICAgc2VsZi51cGRhdGVDaGFuZ2VEYXRhKHRoaXMsIFwiXCIsIHBvcywgcG9zICsgaXRlbS5kZWxldGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuXG4gIHNldFNlbGVjdGlvbkluZm86ZnVuY3Rpb24oZSwgaXNTZWxlY3QsIHN0YXJ0LCBlbmQpIHtcbiAgICBlLnNldEF0dHJpYnV0ZShcImlzX3NlbGVjdGVkXCIsIGlzU2VsZWN0KTtcbiAgICBlLnNldEF0dHJpYnV0ZShcInNlbGVjdGlvbl9zdGFydFwiLCBzdGFydCk7XG4gICAgZS5zZXRBdHRyaWJ1dGUoXCJzZWxlY3Rpb25fZW5kXCIsIGVuZCk7XG4gICAgLy9jb25zb2xlLmxvZyhcInN3ZWxlY3RcIixlKVxuICAgIHRoaXMuc2VuZFBvc2l0aW9uKGUpO1xuICB9LFxuICBcbiAgZ2V0U2VsZWN0aW9uSW5mbzogZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiB7XG4gICAgICBpc19zZWxlY3RlZDogKGUuZ2V0QXR0cmlidXRlKFwiaXNfc2VsZWN0ZWRcIikgPT09ICd0cnVlJykgPyB0cnVlIDogZmFsc2UsXG4gICAgICBzdGFydDogcGFyc2VJbnQoZS5nZXRBdHRyaWJ1dGUoXCJzZWxlY3Rpb25fc3RhcnRcIikpLFxuICAgICAgZW5kOnBhcnNlSW50KGUuZ2V0QXR0cmlidXRlKFwic2VsZWN0aW9uX2VuZFwiKSlcbiAgICB9XG4gIH0sXG4gIFxuICBjaGVja0RvY3VtZW50SUQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBsZXQgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpO1xuICAgIGlmICghZG9jdW1lbnRfaWQgfHwgZG9jdW1lbnRfaWQgPT09IFwiXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIFxuICBzZW5kQ2hhbmdlRGF0YTogZnVuY3Rpb24oZWxlbWVudCwgY29udGVudCwgc3RhcnQsIGVuZCwgaXNSZW1vdmUgPSB0cnVlKSB7XG5cbiAgICBpZiAoIXRoaXMuY2hlY2tEb2N1bWVudElEKGVsZW1lbnQpKSB7XG4gICAgICBDb0NyZWF0ZS5kb2N1bWVudF9pZC5yZXF1ZXN0KHtlbGVtZW50OiBlbGVtZW50LCBuYW1lQXR0cjogXCJuYW1lXCJ9KVxuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnLCAncGVuZGluZycpO1xuICAgICAgcmV0dXJuIDtcbiAgICB9XG4gICAgXG4gICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJykgPT0gJ3BlbmRpbmcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJyksXG4gICAgICAgICAgZG9jdW1lbnRfaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpLFxuICAgICAgICAgIG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgIFxuICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zYXZlX3ZhbHVlJykgPT0gJ2ZhbHNlJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKFwiU2VuZENoYW5nZURhdGFGcm9tIENvY3JlYXRlLVRleHRcIilcbiAgICBsZXQgY2hhcmFjdGVyX2NvdW50ID0gY29udGVudC5sZW5ndGggPiAwID8gY29udGVudC5sZW5ndGggOiAtMTtcbiAgICBDb0NyZWF0ZS5jdXJzb3JzLnJlY2FsY3VsYXRlX2xvY2FsX2N1cnNvcnMoZWxlbWVudCxjaGFyYWN0ZXJfY291bnQpO1xuICAgIFxuICAgICAgLy9zZW5kIHBvc2l0aW9uIHdoZW4ga2V5VXAgXG4gICAgdGhpcy5zZW5kUG9zaXRpb24oZWxlbWVudClcbiAgICBpZiAoY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoaXNSZW1vdmUpICB7XG4gICAgICAgIGVsZW1lbnQuc2V0UmFuZ2VUZXh0KFwiXCIsIHN0YXJ0LCBzdGFydCArIGNvbnRlbnQubGVuZ3RoLCBcInN0YXJ0XCIpXG4gICAgICB9XG4gICAgICBDb0NyZWF0ZS5jcmR0Lmluc2VydFRleHQoe1xuICAgICAgICBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSxcbiAgICAgICAgdmFsdWU6IGNvbnRlbnQsXG4gICAgICAgIHBvc2l0aW9uOiBzdGFydFxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzUmVtb3ZlKSBlbGVtZW50LnNldFJhbmdlVGV4dChcIiBcIi5yZXBlYXQoZW5kIC0gc3RhcnQpLCBzdGFydCwgc3RhcnQsIFwiZW5kXCIpXG4gICAgICBDb0NyZWF0ZS5jcmR0LmRlbGV0ZVRleHQoe1xuICAgICAgICBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSxcbiAgICAgICAgcG9zaXRpb246IHN0YXJ0LFxuICAgICAgICBsZW5ndGg6IGVuZCAtIHN0YXJ0LFxuICAgICAgfSlcbiAgICB9XG4gICAgaWYoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWxlbWVudCl7XG4gICAgICB0aGlzLnNldFNlbGVjdGlvbkluZm8oZWxlbWVudCwgZmFsc2UsIGVsZW1lbnQuc2VsZWN0aW9uU3RhcnQsIGVsZW1lbnQuc2VsZWN0aW9uU3RhcnQpO1xuICAgICAgdGhpcy5zZW5kUG9zaXRpb24oZWxlbWVudCk7XG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZUNoYW5nZURhdGE6IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRlbnQsIHN0YXJ0LCBlbmQpIHtcblxuICAgIGxldCBwcmV2X3N0YXJ0ID0gZWxlbWVudC5zZWxlY3Rpb25TdGFydDtcbiAgICBsZXQgcHJldl9lbmQgPSBlbGVtZW50LnNlbGVjdGlvbkVuZDtcbiAgICBlbGVtZW50LnNldFJhbmdlVGV4dChjb250ZW50LCBzdGFydCwgZW5kLCBcImVuZFwiKTtcblxuICAgIGlmIChwcmV2X3N0YXJ0ID49IHN0YXJ0KSB7XG4gICAgICBpZiAoY29udGVudCA9PSBcIlwiKSB7XG4gICAgICAgIHByZXZfc3RhcnQgLT0gZW5kIC0gc3RhcnQ7XG4gICAgICAgIHByZXZfZW5kIC09IGVuZCAtIHN0YXJ0O1xuICAgICAgICBwcmV2X3N0YXJ0ID0gcHJldl9zdGFydCA8IHN0YXJ0ID8gc3RhcnQgOiBwcmV2X3N0YXJ0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldl9zdGFydCArPSBjb250ZW50Lmxlbmd0aDtcbiAgICAgICAgcHJldl9lbmQgKz0gY29udGVudC5sZW5ndGg7XG4gICAgICB9XG4gICAgfSB7XG4gICAgICBpZiAoY29udGVudCA9PSBcIlwiICYmIHByZXZfZW5kID49IHN0YXJ0KSB7XG4gICAgICAgIHByZXZfZW5kID0gKHByZXZfZW5kID49IGVuZCkgPyBwcmV2X2VuZCAtIChlbmQgLSBzdGFydCkgOiBzdGFydFxuICAgICAgfSBcbiAgICB9XG4gICAgXG4gICAgZWxlbWVudC5zZWxlY3Rpb25TdGFydCA9IHByZXZfc3RhcnQ7XG4gICAgZWxlbWVudC5zZWxlY3Rpb25FbmQgPSBwcmV2X2VuZDtcblxuICAgIHZhciBpc0ZvY3VzZWQgPSAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWxlbWVudCk7XG4gICAgQ29DcmVhdGUuY3Vyc29ycy5yZWZyZXNoX21pcnJvcihlbGVtZW50KTtcbiAgICBcbiAgICBpZiAoQ29DcmVhdGUuZmxvYXRpbmdMYWJlbCkgICB7XG4gICAgICBDb0NyZWF0ZS5mbG9hdGluZ0xhYmVsLnVwZGF0ZShlbGVtZW50LCBlbGVtZW50LnZhbHVlKVxuICAgIH1cblxuICB9LFxuICBcbiAgZ2VuZXJhdGVUeXBlTmFtZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHZhciBjb2xsZWN0aW9uID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpO1xuICAgIHZhciBkb2N1bWVudF9pZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJyk7XG4gICAgdmFyIG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgIFxuICAgIHJldHVybiBDb0NyZWF0ZS5jcmR0LmdlbmVyYXRlSUQoY29uZmlnLm9yZ2FuaXphdGlvbl9JZCwgY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUpO1xuICB9LFxuICBcbiAgc2V0VGV4dDogZnVuY3Rpb24oZWxlbWVudF9pZCwgaW5mbykge1xuICAgIHZhciBwb3MgPSAwO1xuICAgIHZhciBmbGFnID0gdHJ1ZTtcbiAgICBcbiAgICBpbmZvLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS5yZXRhaW4pIHtcbiAgICAgICAgZmxhZyA9IHRydWU7XG4gICAgICAgIHBvcyA9IGl0ZW0ucmV0YWluO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoaXRlbS5pbnNlcnQgfHwgaXRlbS5kZWxldGUpIHtcbiAgICAgICAgaWYgKGZsYWcgPT0gZmFsc2UpIHBvcyA9IDA7XG4gICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpdGVtLmluc2VydCkge1xuICAgICAgICAgIC8vLiBpbnNlcnQgcHJvY2Vzc1xuICAgICAgICAgIHRoaXMucmVjZWl2ZUNoYW5nZURhdGEoZWxlbWVudF9pZCwgaXRlbS5pbnNlcnQsIHBvcywgcG9zKVxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uZGVsZXRlKSB7XG4gICAgICAgICAgLy8uIGRlbGV0ZSBwcm9jZXNzXG4gICAgICAgICAgdGhpcy5yZWNlaXZlQ2hhbmdlRGF0YShlbGVtZW50X2lkLCBcIlwiLCBwb3MsIHBvcyArIGl0ZW0uZGVsZXRlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBcbiAgaXNBdmFpYWJsZUVsOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLmVsZW1lbnRzKVxuICAgIFxuICAgIGZvciAodmFyICBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZWxlbWVudHNbaV0uaXNFcXVhbE5vZGUoZWxlbWVudCksZWxlbWVudClcbiAgICAgIGlmICh0aGlzLmVsZW1lbnRzW2ldLmlzRXF1YWxOb2RlKGVsZW1lbnQpPT09dHJ1ZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBcbiAgc2VuZFBvc2l0aW9uOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgLy9jb25zb2xlLmxvZyhcIlNlIGVudmlvIFwiKVxuICAgIC8qaWYgKCF0aGlzLmlzQXZhaWFibGVFbChlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0qL1xuICAgIFxuICAgIGNvbnN0IGlkID0gdGhpcy5nZW5lcmF0ZVR5cGVOYW1lKGVsZW1lbnQpO1xuICAgIC8vY29uc29sZS5sb2coXCIgU0VuZCBQb3NpdGlvbiBTZWxlY3RvciBJRCBcIixpZClcbiAgICAvL2NvbnNvbGUubG9nKGVsZW1lbnQuc2VsZWN0aW9uU3RhcnQsIGVsZW1lbnQuc2VsZWN0aW9uRW5kKTtcbiAgICBsZXQgZnJvbSA9IGVsZW1lbnQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgbGV0IHRvID0gZWxlbWVudC5zZWxlY3Rpb25FbmQ7XG4gICAgLy9jb25zb2xlLmxvZyhcIlNlIGVudmlvIGxhIHBvc2l0aW9uIFwiLGlkLGZyb20sIHRvKVxuICAgIENvQ3JlYXRlLmNyZHQuc2V0UG9zaXRpb25ZSlMoaWQsIGZyb20sIHRvKTtcbiAgICBcbiAgfVxufVxuXG5cbkNvQ3JlYXRlVGV4dC5pbml0KCk7XG4vLyBDb0NyZWF0ZUluaXQucmVnaXN0ZXIoJ0NvQ3JlYXRlVGV4dCcsIENvQ3JlYXRlVGV4dCwgQ29DcmVhdGVUZXh0LmluaXRFbGVtZW50KTtcblxuQ29DcmVhdGUub2JzZXJ2ZXIuYWRkKHsgXG5cdG5hbWU6ICdDb0NyZWF0ZVRleHRDcmVhdGUnLCBcblx0b2JzZXJ2ZTogWydzdWJ0cmVlJywgJ2NoaWxkTGlzdCddLFxuXHRpbmNsdWRlOiAnW2RhdGEtY29sbGVjdGlvbl1bZGF0YS1kb2N1bWVudF9pZF1bbmFtZV0nLCBcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG5cdCAgY29uc29sZS5sb2coJ2NvY3JlYXRlLXRleHQgaW5pdCcpXG5cdFx0Q29DcmVhdGVUZXh0LmluaXRFbGVtZW50KG11dGF0aW9uLnRhcmdldClcblx0fVxufSk7XG5cbkNvQ3JlYXRlLm9ic2VydmVyLmFkZCh7IFxuXHRuYW1lOiAnQ29DcmVhdGVUZXh0TmFtZU9ic2VydmVyJywgXG5cdG9ic2VydmU6IFsnYXR0cmlidXRlcyddLFxuXHRhdHRyaWJ1dGVzOiBbJ25hbWUnXSxcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG5cdFx0Y29uc29sZS5sb2coJ2NoYW5nZSBjb2NyZWF0ZS10ZXh0IG5hbWUnKVxuXHRcdENvQ3JlYXRlVGV4dC5yZWZyZXNoRWxlbWVudChtdXRhdGlvbilcblx0fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlVGV4dDsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-components/CoCreate-text/src/CoCreate-text.js\n");

/***/ })

/******/ })["default"];
});